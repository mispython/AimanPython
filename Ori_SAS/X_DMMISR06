*;
OPTIONS NOCENTER NODATE NONUMBER MISSING=0;

%INC PGM(PBBDPFMT,PBMISFMT);

DATA REPTDATE;
    SET BNM.REPTDATE;
    CALL SYMPUT('REPTMON',PUT(MONTH(REPTDATE),Z2.));
    CALL SYMPUT('REPTYEAR',PUT(REPTDATE,YEAR4.));
    CALL SYMPUT('RDATE',PUT(REPTDATE,DDMMYY8.));
    CALL SYMPUT('ZDATE',PUT(REPTDATE,Z5.));
RUN;

LIBNAME MIS "SAP.PBB.MIS.D&REPTYEAR" DISP=SHR;

*;
TITLE1 'REPORT ID : DMMISR06';
TITLE2 'PUBLIC BANK BERHAD';
TITLE3 'FOR PRODUCT DEVELOPMENT & MARKETING';
TITLE4 'PROFILE ON YOUNG ACHIEVER SAVINGS ACCOUNTS';
TITLE5 'REPORT AS AT ' &RDATE;
*;
DATA YAA;
  SET MIS.SDRNGE&REPTMON;
  LENGTH DEPRANGE $ 19;
  IF PRODUCT = 202;
  DEPRANGE = PUT(RANGE, PROFYAA.);
RUN;
*;
PROC TABULATE DATA=YAA MISSING;
  FORMAT RACE $RACE. AGE AGEDESC.;
  CLASS DEPRANGE RACE AGE;
  VAR NOACCT ACCYTD CURBAL;
  TABLE DEPRANGE='DEPOSIT RANGE' ALL='TOTAL',
        NOACCT=' '*(SUM='NO OF A/C'*F=COMMA12. PCTSUM*F=COMMA6.2)
        ACCYTD=' '*(SUM='OPEN YTD '*F=COMMA12. PCTSUM*F=COMMA6.2)
        CURBAL=' '*(SUM='AMOUNT'*F=COMMA20.2 PCTSUM*F=COMMA6.2
                   PCTSUM<NOACCT>='AVG AMT/ACCOUNT'*F=HUNDRED.)
        AGE*NOACCT=' '*SUM=''*F=COMMA10.
        RACE*NOACCT=' '*SUM=''*F=COMMA10.
      / RTS=21 BOX='YOUNG ACHIEVER' PRINTMISS;
  KEYLABEL PCTSUM = '%';
RUN;
*;
